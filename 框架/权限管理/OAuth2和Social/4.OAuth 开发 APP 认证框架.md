# 基于 OAuth 开发 APP 认证框架

## 1. OAuth开发 APP 认证介绍

OAuth 实现服务提供商的功能. 需要实现两部分 : 认证服务器和资源服务器.

- 认证服务器 Authentication Server
  - 实现 OAuth 的 4 种授权模式.(但是一般不会使用这 4 中默认的授权模式, 而是使用自定义的模式)
  - 使用自定义的授权模式, 然后生成token
  - Token 的生成和存储.
- 资源服务器
  - 保护服务内的资源(服务内的 rest 服务)
    - 保护方式是通过在 Security 过滤器链上添加一个 ==OAuth2AuthenticationProcessingFilter==
    - 这个过滤器会从请求中拿出之前发出去给 client 的 token,然后根据存储策略, 从存储内找到对应的用户信息,然后根据用户信息进行判断, 比如是否存在, 是否有权限操作这个资源等.



## 2. 实现标准的 OAuth2 协议中 Provider 角色的主要功能

### 2.1 流程简介

要实现一个服务提供商(Provider)的功能, 也就是要实现以下两个功能:

- 认证服务器
- 资源服务器

## 3. 





## 4. 高级特性

### 4.1 JWT