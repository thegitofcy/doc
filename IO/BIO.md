# BIO

## 1. BIO 时代简介

在说 BIO 之前, 需要先铺垫一波.

### 1. Linux 的 IO 操作

#### 1. kernel 简介

首先程序开发好后, 是放在磁盘中的, 然后被加载到内存中执行.

在启动电脑后, 内存中加载的第一个程序是 `kernel`, 也就是 ==**操作系统内核**==. `kernel` 是管理硬件的.

内核加载内内存后, 会注册一个 `GDT`, 叫做 全局描述附表, 会把内存所在的内存空间划分出来, 叫做 ==**内核空间**==, 其他的普通应用的空间, 用作 ==**用户空间**==. 为了更好的保护内核空间, 内核空间和用户空间分别运行在不同的级别上, 在逻辑上是相互隔离的, 所以用户进程在通常情况下无法直接访问内核空间的数据, 也无法使用内核空间的函数.



`Kernel` 是控制硬件的, 那么此时, 一个硬件内, 比如硬盘, 或者网卡内有一个数据, 如果程序(app)想读取这个数据, 应该怎么办?

由于程序无法直接访问内核内的, 也就是无法直接访问硬盘, 或者网卡, 或者其他硬件的. 能直接访问硬件的是 kernel.  

那么就需要通过 kernel 来访问硬件, 但是程序又无法直接访问内核. 所以内核提供一个 `syscall`, 暴露了一系列的方法, 这些方法可以用来读取 `kernel` 内的数据. 但是又因为 APP 无法直接访问 kernel, 所以就出现一个叫做 ==**软中断**==的东西. 通过 软中断 和 kernel 进行交互. 



#### 2. Linux 一切皆文件

在 Linux 内, 一切都可以用文件来表示, 就像 java 的一切皆对象.

通过 `strace -ff -o ./输出目录 java xxx.java` 命令可以查看程序对 kernel 有没有发生什么系统调用.并把日志输出到指定路径下

使用命令后, 